{"ast":null,"code":"var _jsxFileName = \"/home/fabricio/Documentos/product-nodejs/Implementacao/FrontReact/src/pages/Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport List from \"@mui/material/List\";\nimport ProductItem from \"../components/ProductItem\";\nimport axios from \"axios\";\nimport { getPassword, getUser } from \"../helpers/Utils\";\nimport ReactPaginate from \"react-paginate\";\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport { useHistory } from 'react-router-dom'; // Importe o useHistory do react-router-dom\nimport '../styles/Home.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home({\n  itensPerPage\n}) {\n  _s();\n  const [currentItems, setCurrentItems] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const [itensCount, setItensCount] = useState(1);\n  const history = useHistory(); // Inicialize o useHistory\n\n  const handlePageClick = event => {\n    const newOffset = event.selected * itensPerPage % itensCount;\n    setItemOffset(newOffset);\n  };\n  useEffect(() => {\n    axios({\n      method: 'get',\n      url: 'https://productifes-dispmoveisbsi.b4a.run/pegar_produtos.php',\n      params: {\n        limit: itensPerPage,\n        offset: itemOffset\n      },\n      auth: {\n        username: getUser(),\n        password: getPassword()\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(response => {\n      if (response.data[\"sucesso\"] === 1) {\n        setCurrentItems(response.data[\"produtos\"]);\n        let qtde_produtos = response.data[\"qtde_produtos\"];\n        setItensCount(qtde_produtos);\n        setPageCount(Math.ceil(qtde_produtos / itensPerPage)); // Arredonde para cima o pageCount\n      } else {\n        window.alert(\"Erro ao obter lista de produtos: \\n\" + response.data[\"erro\"]);\n      }\n    });\n  }, [itemOffset, itensPerPage]);\n  const handleProductClick = productId => {\n    // Redirecione para a p치gina de detalhes do produto com o ID do produto como par칙metro\n    history.push(`/product/${productId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      padding: 0,\n      boxSizing: 'border-box',\n      width: '100%',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Items, {\n      currentItems: currentItems,\n      onItemClick: handleProductClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      nextLabel: /*#__PURE__*/_jsxDEV(ArrowForwardIosIcon, {\n        style: {\n          fontSize: 18,\n          width: 150\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 28\n      }, this),\n      onPageChange: handlePageClick,\n      pageRangeDisplayed: 3,\n      marginPagesDisplayed: 2,\n      pageCount: pageCount,\n      previousLabel: /*#__PURE__*/_jsxDEV(ArrowBackIosIcon, {\n        style: {\n          fontSize: 18,\n          width: 150\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 32\n      }, this),\n      pageClassName: \"item pagination-page\",\n      pageLinkClassName: \"item\",\n      previousClassName: \"item previous\",\n      previousLinkClassName: \"item\",\n      nextClassName: \"item next\",\n      nextLinkClassName: \"item\",\n      breakLabel: \"...\",\n      breakClassName: \"item break-me\",\n      breakLinkClassName: \"item\",\n      containerClassName: \"pagination\",\n      activeClassName: \"item active \",\n      renderOnZeroPageCount: null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"CpNyOOFphDnnaLqDrI6f0fWQ9nE=\", false, function () {\n  return [useHistory];\n});\n_c = Home;\nfunction Items({\n  currentItems,\n  onItemClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\"\n    },\n    children: /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        width: '100%',\n        maxWidth: 360,\n        bgcolor: 'background.paper'\n      },\n      children: currentItems && currentItems.map(item => /*#__PURE__*/_jsxDEV(ProductItem, {\n        item: item,\n        onClick: () => onItemClick(item.id)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Items;\nvar _c, _c2;\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c2, \"Items\");","map":{"version":3,"names":["useEffect","useState","List","ProductItem","axios","getPassword","getUser","ReactPaginate","ArrowBackIosIcon","ArrowForwardIosIcon","useHistory","jsxDEV","_jsxDEV","Home","itensPerPage","_s","currentItems","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","itensCount","setItensCount","history","handlePageClick","event","newOffset","selected","method","url","params","limit","offset","auth","username","password","headers","then","response","data","qtde_produtos","Math","ceil","window","alert","handleProductClick","productId","push","style","display","flexDirection","justifyContent","padding","boxSizing","width","height","children","Items","onItemClick","fileName","_jsxFileName","lineNumber","columnNumber","nextLabel","fontSize","onPageChange","pageRangeDisplayed","marginPagesDisplayed","previousLabel","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakLabel","breakClassName","breakLinkClassName","containerClassName","activeClassName","renderOnZeroPageCount","_c","margin","sx","maxWidth","bgcolor","map","item","onClick","id","_c2","$RefreshReg$"],"sources":["/home/fabricio/Documentos/product-nodejs/Implementacao/FrontReact/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport ProductItem from \"../components/ProductItem\";\r\nimport axios from \"axios\";\r\nimport { getPassword, getUser } from \"../helpers/Utils\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport { useHistory } from 'react-router-dom'; // Importe o useHistory do react-router-dom\r\nimport '../styles/Home.css';\r\n\r\nexport default function Home({ itensPerPage }) {\r\n    const [currentItems, setCurrentItems] = useState(null);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [itemOffset, setItemOffset] = useState(0);\r\n    const [itensCount, setItensCount] = useState(1);\r\n    const history = useHistory(); // Inicialize o useHistory\r\n\r\n    const handlePageClick = (event) => {\r\n        const newOffset = event.selected * itensPerPage % itensCount;\r\n        setItemOffset(newOffset);\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://productifes-dispmoveisbsi.b4a.run/pegar_produtos.php',\r\n            params: {\r\n                limit: itensPerPage,\r\n                offset: itemOffset\r\n            },\r\n            auth: {\r\n                username: getUser(),\r\n                password: getPassword()\r\n            },\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n        }).then((response) => {\r\n            if (response.data[\"sucesso\"] === 1) {\r\n                setCurrentItems(response.data[\"produtos\"]);\r\n                let qtde_produtos = response.data[\"qtde_produtos\"];\r\n                setItensCount(qtde_produtos);\r\n                setPageCount(Math.ceil(qtde_produtos / itensPerPage)); // Arredonde para cima o pageCount\r\n            } else {\r\n                window.alert(\"Erro ao obter lista de produtos: \\n\" + response.data[\"erro\"]);\r\n            }\r\n        });\r\n    }, [itemOffset, itensPerPage]);\r\n\r\n    const handleProductClick = (productId) => {\r\n        // Redirecione para a p치gina de detalhes do produto com o ID do produto como par칙metro\r\n        history.push(`/product/${productId}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            padding: 0,\r\n            boxSizing: 'border-box',\r\n            width: '100%',\r\n            height: '100%',\r\n        }}>\r\n            <Items currentItems={currentItems} onItemClick={handleProductClick} />\r\n            <ReactPaginate\r\n                nextLabel={<ArrowForwardIosIcon style={{ fontSize: 18, width: 150 }} />}\r\n                onPageChange={handlePageClick}\r\n                pageRangeDisplayed={3}\r\n                marginPagesDisplayed={2}\r\n                pageCount={pageCount}\r\n                previousLabel={<ArrowBackIosIcon style={{ fontSize: 18, width: 150 }} />}\r\n                pageClassName=\"item pagination-page\"\r\n                pageLinkClassName=\"item\"\r\n                previousClassName=\"item previous\"\r\n                previousLinkClassName=\"item\"\r\n                nextClassName=\"item next\"\r\n                nextLinkClassName=\"item\"\r\n                breakLabel=\"...\"\r\n                breakClassName=\"item break-me\"\r\n                breakLinkClassName=\"item\"\r\n                containerClassName=\"pagination\"\r\n                activeClassName=\"item active \"\r\n                renderOnZeroPageCount={null}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Items({ currentItems, onItemClick }) {\r\n    return (\r\n        <div style={{ margin: \"auto\" }}>\r\n            <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n                {currentItems && currentItems.map((item) => (\r\n                    <ProductItem key={item.id} item={item} onClick={() => onItemClick(item.id)} />\r\n                ))}\r\n            </List>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}