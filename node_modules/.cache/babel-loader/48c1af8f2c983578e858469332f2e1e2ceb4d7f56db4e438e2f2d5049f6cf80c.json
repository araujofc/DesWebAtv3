{"ast":null,"code":"var _jsxFileName = \"/home/fabricio/Documentos/product-nodejs/Implementacao/FrontReact/src/pages/Home.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport List from \"@mui/material/List\";\nimport ProductItem from \"../components/ProductItem\";\nimport axios from \"axios\";\nimport { getPassword, getUser } from \"../helpers/Utils\";\nimport ReactPaginate from \"react-paginate\";\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/Home.css';\nimport ProductDetails from \"./ProductDetail\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home({\n  itensPerPage\n}) {\n  _s();\n  const [currentItems, setCurrentItems] = useState(null);\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const [itensCount, setItensCount] = useState(1);\n  const history = useHistory();\n  const handlePageClick = event => {\n    const newOffset = event.selected * itensPerPage % itensCount;\n    setItemOffset(newOffset);\n  };\n  useEffect(() => {\n    axios({\n      method: 'get',\n      url: 'https://productifes-dispmoveisbsi.b4a.run/pegar_produtos.php',\n      params: {\n        limit: itensPerPage,\n        offset: itemOffset\n      },\n      auth: {\n        username: getUser(),\n        password: getPassword()\n      },\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(response => {\n      if (response.data[\"sucesso\"] === 1) {\n        setCurrentItems(response.data[\"produtos\"]);\n        let qtde_produtos = response.data[\"qtde_produtos\"];\n        setItensCount(qtde_produtos);\n        setPageCount(Math.ceil(qtde_produtos / itensPerPage));\n      } else {\n        window.alert(\"Erro ao obter lista de produtos: \\n\" + response.data[\"erro\"]);\n      }\n    });\n  }, [itemOffset, itensPerPage]);\n  const handleProductClick = productId => {\n    history.push(`/productDetail/${productId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      padding: 0,\n      boxSizing: 'border-box',\n      width: '100%',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Items, {\n      currentItems: currentItems,\n      onItemClick: handleProductClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      nextLabel: /*#__PURE__*/_jsxDEV(ArrowForwardIosIcon, {\n        style: {\n          fontSize: 18,\n          width: 150\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 28\n      }, this),\n      onPageChange: handlePageClick,\n      pageRangeDisplayed: 3,\n      marginPagesDisplayed: 2,\n      pageCount: pageCount,\n      previousLabel: /*#__PURE__*/_jsxDEV(ArrowBackIosIcon, {\n        style: {\n          fontSize: 18,\n          width: 150\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 32\n      }, this),\n      pageClassName: \"item pagination-page\",\n      pageLinkClassName: \"item\",\n      previousClassName: \"item previous\",\n      previousLinkClassName: \"item\",\n      nextClassName: \"item next\",\n      nextLinkClassName: \"item\",\n      breakLabel: \"...\",\n      breakClassName: \"item break-me\",\n      breakLinkClassName: \"item\",\n      containerClassName: \"pagination\",\n      activeClassName: \"item active \",\n      renderOnZeroPageCount: null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"CpNyOOFphDnnaLqDrI6f0fWQ9nE=\", true);\n_c = Home;\nfunction Items({\n  currentItems,\n  onItemClick\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"auto\"\n    },\n    children: /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        width: '100%',\n        maxWidth: 360,\n        bgcolor: 'background.paper'\n      },\n      children: currentItems && currentItems.map(item => /*#__PURE__*/_jsxDEV(ProductItem, {\n        item: item,\n        onClick: () => onItemClick(item.id)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Items;\nvar _c, _c2;\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c2, \"Items\");","map":{"version":3,"names":["useEffect","useState","List","ProductItem","axios","getPassword","getUser","ReactPaginate","ArrowBackIosIcon","ArrowForwardIosIcon","useNavigate","ProductDetails","jsxDEV","_jsxDEV","Home","itensPerPage","_s","currentItems","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","itensCount","setItensCount","history","useHistory","handlePageClick","event","newOffset","selected","method","url","params","limit","offset","auth","username","password","headers","then","response","data","qtde_produtos","Math","ceil","window","alert","handleProductClick","productId","push","style","display","flexDirection","justifyContent","padding","boxSizing","width","height","children","Items","onItemClick","fileName","_jsxFileName","lineNumber","columnNumber","nextLabel","fontSize","onPageChange","pageRangeDisplayed","marginPagesDisplayed","previousLabel","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakLabel","breakClassName","breakLinkClassName","containerClassName","activeClassName","renderOnZeroPageCount","_c","margin","sx","maxWidth","bgcolor","map","item","onClick","id","_c2","$RefreshReg$"],"sources":["/home/fabricio/Documentos/product-nodejs/Implementacao/FrontReact/src/pages/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport ProductItem from \"../components/ProductItem\";\r\nimport axios from \"axios\";\r\nimport { getPassword, getUser } from \"../helpers/Utils\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@mui/icons-material/ArrowForwardIos';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/Home.css';\r\nimport ProductDetails from \"./ProductDetail\";\r\n\r\n\r\nexport default function Home({ itensPerPage }) {\r\n    const [currentItems, setCurrentItems] = useState(null);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    const [itemOffset, setItemOffset] = useState(0);\r\n    const [itensCount, setItensCount] = useState(1);\r\n    const history = useHistory();\r\n\r\n    const handlePageClick = (event) => {\r\n        const newOffset = event.selected * itensPerPage % itensCount;\r\n        setItemOffset(newOffset);\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios({\r\n            method: 'get',\r\n            url: 'https://productifes-dispmoveisbsi.b4a.run/pegar_produtos.php',\r\n            params: {\r\n                limit: itensPerPage,\r\n                offset: itemOffset\r\n            },\r\n            auth: {\r\n                username: getUser(),\r\n                password: getPassword()\r\n            },\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' }\r\n        }).then((response) => {\r\n            if (response.data[\"sucesso\"] === 1) {\r\n                setCurrentItems(response.data[\"produtos\"]);\r\n                let qtde_produtos = response.data[\"qtde_produtos\"];\r\n                setItensCount(qtde_produtos);\r\n                setPageCount(Math.ceil(qtde_produtos / itensPerPage));\r\n            } else {\r\n                window.alert(\"Erro ao obter lista de produtos: \\n\" + response.data[\"erro\"]);\r\n            }\r\n        });\r\n    }, [itemOffset, itensPerPage]);\r\n\r\n    const handleProductClick = (productId) => {\r\n        history.push(`/productDetail/${productId}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            padding: 0,\r\n            boxSizing: 'border-box',\r\n            width: '100%',\r\n            height: '100%',\r\n        }}>\r\n            <Items currentItems={currentItems} onItemClick={handleProductClick} />\r\n            <ReactPaginate\r\n                nextLabel={<ArrowForwardIosIcon style={{ fontSize: 18, width: 150 }} />}\r\n                onPageChange={handlePageClick}\r\n                pageRangeDisplayed={3}\r\n                marginPagesDisplayed={2}\r\n                pageCount={pageCount}\r\n                previousLabel={<ArrowBackIosIcon style={{ fontSize: 18, width: 150 }} />}\r\n                pageClassName=\"item pagination-page\"\r\n                pageLinkClassName=\"item\"\r\n                previousClassName=\"item previous\"\r\n                previousLinkClassName=\"item\"\r\n                nextClassName=\"item next\"\r\n                nextLinkClassName=\"item\"\r\n                breakLabel=\"...\"\r\n                breakClassName=\"item break-me\"\r\n                breakLinkClassName=\"item\"\r\n                containerClassName=\"pagination\"\r\n                activeClassName=\"item active \"\r\n                renderOnZeroPageCount={null}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction Items({ currentItems, onItemClick }) {\r\n    return (\r\n        <div style={{ margin: \"auto\" }}>\r\n            <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n                {currentItems && currentItems.map((item) => (\r\n                    <ProductItem key={item.id} item={item} onClick={() => onItemClick(item.id)} />\r\n                ))}\r\n            </List>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}